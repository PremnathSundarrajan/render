<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zoho SalesIQ Visitor ID Test</title>
</head> 
<body>

    <h2>Check your browser console (F12) for the Visitor ID</h2>

    <script id="zsiqscript" src="https://salesiq.zohopublic.in/widget?wc=siq432810251110ab8fa1526b5b918a80f6ca4a6de27ee9e3572852a9858c9dc685" defer></script>
    
    <script>
        // Use the $zoho.salesiq.ready callback to ensure the API is fully loaded
        $zoho.salesiq.ready = function() {
            try {
                // Get the visitor object
                const visitorInfo = $zoho.salesiq.visitor.info.getVisitor();
                console.log(visitorInfo);
                // Use the standard 'id' property
                const visitorId = visitorInfo.id; 

                if (visitorId) {
                    console.log("SUCCESS: SalesIQ Visitor ID is: ", visitorId);
                    // You can now safely pass this visitorId to your backend login endpoint
                } else {
                    console.log("WARNING: SalesIQ is ready, but Visitor ID (visitorInfo.id) is not yet available.");
                }
            } catch (error) {
                console.error("Error retrieving SalesIQ Visitor ID:", error);
            }
        };
    </script>

</body>
</html>